import{c as V,a as N,ai as Q,aj as L,d as R,u as X,g as W,ak as Z,h as k,al as ee,am as te,i as se,an as ne,l as b,ao as ae,T as ie,a2 as oe,A as le,O as re,a1 as E,r as $,B as w,C as B,J as e,Q as n,S as a,D as t,N as U,W as r,ac as g,ad as _,R as ce,_ as C,ap as de,I as ue,a9 as pe,aq as me,P,ar as ve,as as F,$ as fe,F as O,U as G,at as he,au as ge,av as M,aw as ye,ax as _e}from"./index-d3dbc053.js";const ke=V([V("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),N("spin-container",{position:"relative"},[N("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Q()])]),N("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),N("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[L("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),N("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),N("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[L("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),xe={small:20,medium:18,large:16},be=Object.assign(Object.assign({},W.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),$e=R({name:"Spin",props:be,setup(m){const{mergedClsPrefixRef:p,inlineThemeDisabled:o}=X(m),i=W("Spin","-spin",ke,Z,m,p),v=k(()=>{const{size:s}=m,{common:{cubicBezierEaseInOut:d},self:h}=i.value,{opacitySpinning:y,color:x,textColor:S}=h,z=typeof s=="number"?ee(s):h[te("size",s)];return{"--n-bezier":d,"--n-opacity-spinning":y,"--n-size":z,"--n-color":x,"--n-text-color":S}}),f=o?se("spin",k(()=>{const{size:s}=m;return typeof s=="number"?String(s):s[0]}),v,m):void 0;return{mergedClsPrefix:p,compitableShow:ne(m,["spinning","show"]),mergedStrokeWidth:k(()=>{const{strokeWidth:s}=m;if(s!==void 0)return s;const{size:d}=m;return xe[typeof d=="number"?"medium":d]}),cssVars:o?void 0:v,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var m,p;const{$slots:o,mergedClsPrefix:i,description:v}=this,f=o.icon&&this.rotate,s=(v||o.description)&&b("div",{class:`${i}-spin-description`},v||((m=o.description)===null||m===void 0?void 0:m.call(o))),d=o.icon?b("div",{class:[`${i}-spin-body`,this.themeClass]},b("div",{class:[`${i}-spin`,f&&`${i}-spin--rotate`],style:o.default?"":this.cssVars},o.icon()),s):b("div",{class:[`${i}-spin-body`,this.themeClass]},b(ae,{clsPrefix:i,style:o.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${i}-spin`}),s);return(p=this.onRender)===null||p===void 0||p.call(this),o.default?b("div",{class:[`${i}-spin-container`,this.themeClass],style:this.cssVars},b("div",{class:[`${i}-spin-content`,this.compitableShow&&`${i}-spin-content--spinning`]},o),b(ie,{name:"fade-in-transition"},{default:()=>this.compitableShow?d:null})):d}});function we(){const m=new Date,p=m.getDate(),o=m.getMonth()+1;return`${m.getFullYear()}-${o}-${p}`}const Ce={class:"p-4 space-y-5 min-h-[200px]"},Se={class:"space-y-6"},ze={class:"flex items-center space-x-4"},Ie={class:"flex-shrink-0 w-[100px]"},Ne={class:"flex-1"},Pe={class:"flex items-center space-x-4"},Te={class:"flex-shrink-0 w-[100px]"},Ue={class:"w-[200px]"},Be={class:"flex items-center space-x-4"},Re={class:"flex-shrink-0 w-[100px]"},Ae={class:"flex-1"},De={class:"flex items-center space-x-4"},je={class:"flex-shrink-0 w-[100px]"},Me={class:"flex-1"},Oe={class:"flex-shrink-0 w-[100px]"},Ge={class:"flex flex-wrap items-center gap-4"},Ve={class:"flex items-center space-x-4"},Le={class:"flex-shrink-0 w-[100px]"},We={class:"flex flex-wrap items-center gap-4"},Ee={class:"flex items-center space-x-4"},Fe={class:"flex-shrink-0 w-[100px]"},Je={class:"flex flex-wrap items-center gap-4"},He={class:"flex items-center space-x-4"},Ye={class:"flex-shrink-0 w-[100px]"},qe=R({__name:"General",setup(m){const p=oe(),o=le(),{isMobile:i}=re(),v=E(),f=k(()=>p.theme),s=k(()=>o.userInfo),d=$(s.value.avatar??""),h=$(s.value.name??""),y=$(s.value.description??""),x=$(s.value.code??""),S=k({get(){return p.language},set(l){p.setLanguage(l)}}),z=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],A=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function D(l){o.updateUserInfo(l),v.success(P("common.success"))}function J(){o.resetUserInfo(),v.success(P("common.success")),window.location.reload()}function H(){const l=we(),c=localStorage.getItem("chatStorage")||"{}",u=JSON.stringify(JSON.parse(c),null,2),I=new Blob([u],{type:"application/json"}),j=URL.createObjectURL(I),T=document.createElement("a");T.href=j,T.download=`chat-store_${l}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}function Y(l){const c=l.target;if(!c||!c.files)return;const u=c.files[0];if(!u)return;const I=new FileReader;I.onload=()=>{try{const j=JSON.parse(I.result);localStorage.setItem("chatStorage",JSON.stringify(j)),v.success(P("common.success")),location.reload()}catch{v.error(P("common.invalidFileFormat"))}},I.readAsText(u)}function q(){localStorage.removeItem("chatStorage"),location.reload()}function K(){const l=document.getElementById("fileInput");l&&l.click()}return(l,c)=>(w(),B("div",Ce,[e("div",Se,[e("div",ze,[e("span",Ie,n(l.$t("setting.avatarLink")),1),e("div",Ne,[a(t(U),{value:d.value,"onUpdate:value":c[0]||(c[0]=u=>d.value=u),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:c[1]||(c[1]=u=>D({avatar:d.value}))},{default:r(()=>[g(n(l.$t("common.save")),1)]),_:1})]),e("div",Pe,[e("span",Te,n(l.$t("setting.name")),1),e("div",Ue,[a(t(U),{value:h.value,"onUpdate:value":c[2]||(c[2]=u=>h.value=u),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:c[3]||(c[3]=u=>D({name:h.value}))},{default:r(()=>[g(n(l.$t("common.save")),1)]),_:1})]),e("div",Be,[e("span",Re,n(l.$t("setting.description")),1),e("div",Ae,[a(t(U),{value:y.value,"onUpdate:value":c[4]||(c[4]=u=>y.value=u),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:c[5]||(c[5]=u=>D({description:y.value}))},{default:r(()=>[g(n(l.$t("common.save")),1)]),_:1})]),e("div",De,[e("span",je,n(l.$t("setting.code")),1),e("div",Me,[a(t(U),{value:x.value,"onUpdate:value":c[6]||(c[6]=u=>x.value=u),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:c[7]||(c[7]=u=>D({code:x.value}))},{default:r(()=>[g(n(l.$t("common.save")),1)]),_:1})]),e("div",{class:ce(["flex items-center space-x-4",t(i)&&"items-start"])},[e("span",Oe,n(l.$t("setting.chatHistory")),1),e("div",Ge,[a(t(_),{size:"small",onClick:H},{icon:r(()=>[a(t(C),{icon:"ri:download-2-fill"})]),default:r(()=>[g(" "+n(l.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:Y},null,32),a(t(_),{size:"small",onClick:K},{icon:r(()=>[a(t(C),{icon:"ri:upload-2-fill"})]),default:r(()=>[g(" "+n(l.$t("common.import")),1)]),_:1}),a(t(de),{placement:"bottom",onPositiveClick:q},{trigger:r(()=>[a(t(_),{size:"small"},{icon:r(()=>[a(t(C),{icon:"ri:close-circle-line"})]),default:r(()=>[g(" "+n(l.$t("common.clear")),1)]),_:1})]),default:r(()=>[g(" "+n(l.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",Ve,[e("span",Le,n(l.$t("setting.theme")),1),e("div",We,[(w(),B(ue,null,pe(z,u=>a(t(_),{key:u.key,size:"small",type:u.key===t(f)?"primary":void 0,onClick:I=>t(p).setTheme(u.key)},{icon:r(()=>[a(t(C),{icon:u.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",Ee,[e("span",Fe,n(l.$t("setting.language")),1),e("div",Je,[a(t(me),{style:{width:"140px"},value:t(S),options:A,onUpdateValue:c[8]||(c[8]=u=>t(p).setLanguage(u))},null,8,["value"])])]),e("div",He,[e("span",Ye,n(l.$t("setting.resetUserInfo")),1),a(t(_),{size:"small",onClick:J},{default:r(()=>[g(n(l.$t("common.reset")),1)]),_:1})])])]))}}),Ke={class:"p-4 space-y-5 min-h-[200px]"},Qe={class:"space-y-6"},Xe={class:"flex items-center space-x-4"},Ze={class:"flex-shrink-0 w-[100px]"},et={class:"flex-1"},tt={class:"flex items-center space-x-4"},st=e("span",{class:"flex-shrink-0 w-[100px]"}," ",-1),nt=R({__name:"Advanced",setup(m){const p=ve(),o=E(),i=$(p.systemMessage??"");function v(s){p.updateSetting(s),o.success(P("common.success"))}function f(){p.resetSetting(),o.success(P("common.success")),window.location.reload()}return(s,d)=>(w(),B("div",Ke,[e("div",Qe,[e("div",Xe,[e("span",Ze,n(s.$t("setting.role")),1),e("div",et,[a(t(U),{value:i.value,"onUpdate:value":d[0]||(d[0]=h=>i.value=h),placeholder:""},null,8,["value"])]),a(t(_),{size:"tiny",text:"",type:"primary",onClick:d[1]||(d[1]=h=>v({systemMessage:i.value}))},{default:r(()=>[g(n(s.$t("common.save")),1)]),_:1})]),e("div",tt,[st,a(t(_),{size:"small",onClick:f},{default:r(()=>[g(n(s.$t("common.reset")),1)]),_:1})])])]))}}),at="chatgpt-web",it="2.10.8",ot="ChatGPT Web",lt="ChenZhaoYu <chenzhaoyu1994@gmail.com>",rt=["chatgpt-web","chatgpt","chatbot","vue"],ct={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},dt={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},ut={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},pt={name:at,version:it,private:!1,description:ot,author:lt,keywords:rt,scripts:ct,dependencies:dt,devDependencies:ut,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},mt={class:"p-4 space-y-4"},vt={class:"text-xl font-bold"},ft=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[g(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),g(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),ht={key:0},gt={key:1},yt=R({__name:"About",setup(m){const p=F(),o=$(!1),i=$(),v=k(()=>!!p.isChatGPTAPI);async function f(){try{o.value=!0;const{data:s}=await he();i.value=s}finally{o.value=!1}}return fe(()=>{f()}),(s,d)=>(w(),O(t($e),{show:o.value},{default:r(()=>{var h,y,x,S,z,A;return[e("div",mt,[e("h2",vt," Version - "+n(t(pt).version),1),ft,e("p",null,n(s.$t("setting.api"))+"："+n(((h=i.value)==null?void 0:h.apiModel)??"-"),1),t(v)?(w(),B("p",ht,n(s.$t("setting.balance"))+"："+n(((y=i.value)==null?void 0:y.balance)??"-"),1)):G("",!0),t(v)?G("",!0):(w(),B("p",gt,n(s.$t("setting.reverseProxy"))+"："+n(((x=i.value)==null?void 0:x.reverseProxy)??"-"),1)),e("p",null,n(s.$t("setting.timeout"))+"："+n(((S=i.value)==null?void 0:S.timeoutMs)??"-"),1),e("p",null,n(s.$t("setting.socks"))+"："+n(((z=i.value)==null?void 0:z.socksProxy)??"-"),1),e("p",null,n(s.$t("setting.httpsProxy"))+"："+n(((A=i.value)==null?void 0:A.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),_t={class:"ml-2"},kt={class:"min-h-[100px]"},xt={class:"ml-2"},bt={class:"min-h-[100px]"},$t={class:"ml-2"},Ct=R({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(m,{emit:p}){const o=m,i=F(),v=k(()=>!!i.isChatGPTAPI),f=$("General"),s=k({get(){return o.visible},set(d){p("update:visible",d)}});return(d,h)=>(w(),O(t(_e),{show:t(s),"onUpdate:show":h[1]||(h[1]=y=>ye(s)?s.value=y:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:r(()=>[e("div",null,[a(t(ge),{value:f.value,"onUpdate:value":h[0]||(h[0]=y=>f.value=y),type:"line",animated:""},{default:r(()=>[a(t(M),{name:"General",tab:"General"},{tab:r(()=>[a(t(C),{class:"text-lg",icon:"ri:file-user-line"}),e("span",_t,n(d.$t("setting.general")),1)]),default:r(()=>[e("div",kt,[a(qe)])]),_:1}),t(v)?(w(),O(t(M),{key:0,name:"Advanced",tab:"Advanced"},{tab:r(()=>[a(t(C),{class:"text-lg",icon:"ri:equalizer-line"}),e("span",xt,n(d.$t("setting.advanced")),1)]),default:r(()=>[e("div",bt,[a(nt)])]),_:1})):G("",!0),a(t(M),{name:"Config",tab:"Config"},{tab:r(()=>[a(t(C),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",$t,n(d.$t("setting.config")),1)]),default:r(()=>[a(yt)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{Ct as default};
